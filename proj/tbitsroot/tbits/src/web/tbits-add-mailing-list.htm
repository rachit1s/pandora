<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
 "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>  
<meta content="text/html; charset=utf-8" http-equiv="content-type">
<title>Create new role</title>

<style type="text/css">
	/*margin and padding on body element
	  can introduce errors in determining
	  element position and are not recommended;
	  we turn them off as a foundation for YUI
	  CSS treatments. */
	body {
		margin:0;
		padding:0;
	}
</style>
<link rel="stylesheet" type="text/css" href="<%=nearestPath%>web/yui/build/fonts/fonts-min.css">
<link rel="stylesheet" type="text/css" href="<%=nearestPath%>web/yui/build/autocomplete/assets/skins/sam/autocomplete.css">

<script type="text/javascript" src="<%=nearestPath%>web/yui/build/yahoo/yahoo.js"></script>
<script type="text/javascript" src="<%=nearestPath%>web/yui/build/yuiloader/yuiloader-beta-min.js"></script>
<script type="text/javascript" src="<%=nearestPath%>web/yui/build/yahoo/event.js"></script>
<script type="text/javascript" src="<%=nearestPath%>web/yui/build/event/event-min.js"></script>
<script type="text/javascript" src="<%=nearestPath%>web/yui/build/dom/dom-min.js"></script>
<script type="text/javascript" src="<%=nearestPath%>web/yui/build/element/element-beta-min.js"></script>
<script type="text/javascript" src="<%=nearestPath%>web/yui/build/yahoo-dom-event/yahoo-dom-event.js"></script>
<script type="text/javascript" src="<%=nearestPath%>web/yui/build/animation/animation-min.js"></script>
<script type="text/javascript" src="<%=nearestPath%>web/yui/build/datasource/datasource-min.js"></script> 
<script type="text/javascript" src="<%=nearestPath%>web/yui/build/autocomplete/autocomplete-min.js"></script>
<script type="text/javascript" src="<%=nearestPath%>web/yui/build/yahoo/connection.js"></script>
<script type="text/javascript" src="<%=nearestPath%>web/yui/build/utilities/utilities.js"></script>
<script type="text/javascript" src="<%=nearestPath%>web/scripts/tbits-yui-utils.js"></script>

<style type="text/css">
	.ygtvcheck0 { background: url(<%=nearestPath%>web/yui/assets/img/check/check0.gif) 0 0 no-repeat; width:16px; cursor:pointer }
	.ygtvcheck1 { background: url(<%=nearestPath%>web/yui/assets/img/check/check1.gif) 0 0 no-repeat; width:16px; cursor:pointer }
	.ygtvcheck2 { background: url(<%=nearestPath%>web/yui/assets/img/check/check2.gif) 0 0 no-repeat; width:16px; cursor:pointer }
</style>

<style type="text/css">
	#expandcontractdiv {border:1px solid #336600; background-color:#FFFFCC; margin:0 0 .5em 0; padding:0.2em;}
	#treeDiv1 { background: #fff }
</style>

<style type="text/css">
	/* custom styles for multiple stacked instances */
	#userautocomplete1, #userautocomplete2 {
		width:200px;  /*set width here */
		padding-bottom:2em;
	}
	#userautocomplete1, #userautocomplete2 {
		/*z-index:9000;  z-index needed on top instance for ie & sf absolute inside relative issue */
	}
	/*
	#userinput1, #userinput2 {
		_position:absolute; /* abs pos needed for ie quirks
	} */
</style>

<script type="text/javascript">
	function setMailingListName(){
		document.getElementById("mlinput").value = document.getElementById("mlinputDummy").value;
	}

	function setAction(){		
		document.addMailingListForm.action = "<%=nearestPath%>mailinglisthandler";
		document.addMailingListForm.submit();
	}	
</script>
</head>

<body style="background-color:#FFFFFF; width:100%; height:100%">
	
	<DIV  class ="bbn"  style="width:100%">
    	<TABLE id="Table1" cellSpacing="0" cellPadding="0"style="width:100%;">
        	<TR class="sxs"><td align="top"><!--img src="<%=nearestPath%>web/images/header-first.gif" /--></td>
            	<td align="left">
                	<DIV class="m">
                    	<div>Administration - Mailing Lists</div>
                    </DIV>
                </TD>
                <td><div align="right">
					<span class="lc sx b cw"><%=userLogin%></span>
					<!--span class="l sx b cw" style="display:<%=display_logout%>">|<a href="<%=nearestPath%>logout"/>Logout</a></span><br-->
					<SPAN class="l cw" id="" onClick="window.open('<%=nearestPath%>web/tbits-help.htm#WhatIsConfigurable');"><img src="<%=nearestPath%>web/images/help.gif">&nbsp;Help</SPAN> </div></TD>
             </TR>
    	</TABLE>
	</DIV> <!-- panel header -->
			
	<div style="background-color:#E6F4FD; margin: 0ex 1ex 0.5ex;border:0.2ex solid #CBCBCB; height:100%">
		<p class="style2" style="font-weight:bold; ">Create/Edit Mailing List</p>		
		<form id="addMailingListId"  name="addMailingListForm" style="height:100%">
			<input type="hidden" id="actionTypeId" name="actionType" value="<%=saveType%>" />
			<input type="hidden" id="mlinput" name="mailingListName" value="<%=mailingListName%>" />
			<table>							
				<tr>
			  		<td style="vertical-align:baseline">Mailing List:</td>
					<!--td>
					<input type="text" id="mailingListId" name="mailingListName" style="width:350px;" value = "<%=mailingListName%>">					
					</td-->
					<td style="vertical-align:top">
						<div class=" yui-skin-sam">
							<div id="mlautocomplete">
								<input id="mlinputDummy" name="mailingListNameDummy" <%=disable_mlName%> type="text" style="width:350px" value="<%=mailingListName%>" onChange="javascript:setMailingListName()";/>
							<div id="mlcontainer" style="width:348px;display:none"></div>
							</div>
						</div>					
					</td>					
				</tr>
				<tr><td colspan="2""><br></td></tr>
			    <tr>
			  		<td style="vertical-align:baseline">Users: </td>
					<td style="vertical-align:top">
					<div class=" yui-skin-sam">
						<div id="userlistautocomplete">
							<input id="userlistinput" name="mailingListUsers" type="text" style="width:350px" value="<%=mailingListUsers%>" />
						<div id="userlistcontainer" style="width:348px"></div>
						</div>
		            </div>					
					</td>
				</tr>
				<tr><td colspan="2"><br></td></tr>
			</table>
			<div>
				<input id="saveMailingList" name="Save" type="button" value="Save Mailing List" onClick="javascript:setAction()" />
				<br><br>
			</div>
			<p>
			<ul>
			<li>
				'Mailing list' field takes in the name of a mailing list. Its an auto-complete field. 
			</li>
			<li>
				Select all the users you want to include by choosing them in the auto-complete field 'Users'. It is a
				comma-separated list.
			</li>
			</p>	
		</form>			 
	</div>	
	<script type="text/javascript">
		YAHOO.namespace("transbit.mailinglist");
		var usersList = <%=usersList%>;	
		YAHOO.transbit.mailinglist.ACJSArray1=autoCompleteFunction ('mlinput', 'mlcontainer', usersList, false);
		YAHOO.transbit.mailinglist.ACJSArray2=autoCompleteFunction ('userlistinput', 'userlistcontainer', usersList, true);
	</script>	
</body>
</html>
